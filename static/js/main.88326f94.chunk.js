(window["webpackJsonpmap-editor"]=window["webpackJsonpmap-editor"]||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(19)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),l=a.n(o),i=(a(14),a(8)),c=a(1),s=a(2),u=a(4),h=a(3),d=a(5);a(15),a(16);function f(e){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");return.299*parseInt(e.slice(0,2),16)+.587*parseInt(e.slice(2,4),16)+.114*parseInt(e.slice(4,6),16)>186?"#000000":"#FFFFFF"}var p=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).handleMouseMove=function(){var e=a.props,t=e.mouseDown,r=e.updateColor,n=e.row,o=e.col,l=e.newColor,i=e.char;t&&(console.log(n,o,l),r(n,o,l,i))},a.handleMouse=function(e){var t=a.props,r=t.updateColor,n=t.row,o=t.col,l=t.color,i=t.newColor,c=t.char,s=t.fill,u=t.fillGrid;0===e.button&&i!==l&&(console.log(s),s?u(n,o,i,c,l):r(n,o,i,c))},a.fontSize=function(){var e=a.props,t=e.rows,r=e.cols;return(window.innerWidth-200)/r<window.innerHeight/t?75/r+"vw":75/t+"vh"},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{onMouseOver:this.handleMouseMove,onMouseDown:this.handleMouse,className:"tile",style:{backgroundColor:this.props.color}},n.a.createElement("div",{className:"center",style:{color:f(this.props.color),fontSize:this.fontSize()}},this.props.currChar))}}]),t}(n.a.Component),m=(a(17),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"renderTiles",value:function(){for(var e=this.props,t=e.fill,a=e.colorGrid,r=e.charGrid,o=e.updateColor,l=e.mouseDown,i=e.color,c=e.char,s=e.fillGrid,u=[],h=0;h<a.length;h++)for(var d=0;d<a[h].length;d++)u.push(n.a.createElement(p,{fill:t,fillGrid:s,currChar:r[h][d],char:c,mouseDown:l,updateColor:o,color:a[h][d],newColor:i,row:h,col:d,rows:a.length,cols:a[0].length}));return u}},{key:"formatCols",value:function(){for(var e=this.props.colorGrid,t="",a=0;a<e[0].length;a++)t+="auto ";return t}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"grid-container",style:{gridTemplateColumns:this.formatCols()}},this.renderTiles()))}}]),t}(n.a.Component)),g=(a(18),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).handleChange=function(e){var t=a.props.update;!isNaN(e.target.value)&&parseInt(e.target.value,10)>0&&parseInt(e.target.value,10)<=50&&t(e.target.id,e.target.value),console.log(e.target.value)},a.handleOtherChange=function(e){(0,a.props.update)(e.target.id,e.target.value)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"Map Editor"),n.a.createElement("p",{className:"desc"},"Left click and drag to apply colors to the grid."),n.a.createElement("p",{className:"desc"},"Type in the number of rows and columns of the grid you want. (1-50)"),n.a.createElement("div",{className:"flex"},n.a.createElement("label",null,"Rows:")," ",n.a.createElement("input",{defaultValue:"4",type:"text",id:"rows",onChange:this.handleChange}),n.a.createElement("label",null,"Cols:")," ",n.a.createElement("input",{defaultValue:"4",type:"text",id:"cols",onChange:this.handleChange})),n.a.createElement("p",{className:"desc"},"Choose the color and character you want associated with the tile that color represents."),n.a.createElement("p",null,"Changing the label will apply to all tiles of the selected color."),n.a.createElement("div",{className:"flex"},n.a.createElement("label",null,"Color:")," ",n.a.createElement("input",{type:"color",defaultValue:"#ffffff",id:"color",onChange:this.handleOtherChange}),n.a.createElement("label",null,"Label:")," ",n.a.createElement("input",{type:"text",defaultValue:"0",id:"char",onChange:this.handleOtherChange})))}}]),t}(n.a.Component)),v=function(e,t,a){for(var r=[],n=0;n<e;n++){for(var o=[],l=0;l<t;l++)o.push(a);r.push(o)}return r},w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).update=function(e,t){var r=a.state,n=r.rows,o=r.cols,l=r.charGrid,c=r.colorGrid,s=(r.char,r.color);if(""!==t&&(a.setState(Object(i.a)({},e,t)),console.log(e,":",t),"rows"===e&&a.setState({colorGrid:v(t,o,"#ffffff"),charGrid:v(t,o,"0")}),"cols"===e&&a.setState({colorGrid:v(n,t,"#ffffff"),charGrid:v(n,t,"0")}),"char"===e))for(var u=0;u<l.length;u++)for(var h=0;h<l[u].length;h++)c[u][h]===s&&(l[u][h]=t)},a.fillGrid=function(e,t,r,n,o,l,i){var c=o.length,s=o[0].length;o[e][t]===i&&(o[e][t]=r,l[e][t]=n,e-1>=0&&a.fillGrid(e-1,t,r,n,o,l,i),e+1<c&&a.fillGrid(e+1,t,r,n,o,l,i),t-1>=0&&a.fillGrid(e,t-1,r,n,o,l,i),t+1<s&&a.fillGrid(e,t+1,r,n,o,l,i))},a.fillGridFinal=function(e,t,r,n,o){var l=a.state,i=l.colorGrid,c=l.charGrid;a.fillGrid(e,t,r,n,i,c,o),a.setState({colorGrid:i,charGrid:c})},a.updateColor=function(e,t,r,n){var o=a.state,l=o.colorGrid,i=o.charGrid,c=l;c[e][t]=r;var s=i;i[e][t]=n,a.setState({colorGrid:c,charGrid:s})},a.mouseDownHandler=function(e){console.log("MOUSE DOWN",e.button),e.preventDefault(),a.state.mouseDown||0!==e.button||a.setState({mouseDown:!0})},a.mouseUpHandler=function(e){a.state.mouseDown&&0===e.button&&(console.log("MOUSE UP"),a.setState({mouseDown:!1}))},a.toggleFill=function(){var e=a.state.fill;a.setState({fill:!e})},a.state={rows:4,cols:4,color:"#ffffff",char:"0",colorGrid:v(4,4,"#ffffff"),charGrid:v(4,4,"0"),mouseDown:!1,fill:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"charGridString",value:function(){for(var e=this.state.charGrid,t="",a=0;a<e.length;a++){for(var r="",n=0;n<e[a].length;n++)r+=e[a][n]+" ";t+=r+="\n"}return t}},{key:"elementArray",value:function(){for(var e=this.state.charGrid,t=[],a=0;a<e.length;a++){for(var r="[",o=[],l=0;l<e[a].length;l++)o.push(e[a][l]);r+=o.join(", ")+"]",t.push(n.a.createElement("p",null,r))}return t}},{key:"render",value:function(){console.log(this.charGridString()),console.log("FILL",this.state.fill);var e=this.state,t=e.colorGrid,a=e.charGrid,r=e.color,o=e.mouseDown,l=e.char,i=e.fill,c="data:text/csv;charset=utf-8,"+a.map(function(e){return e.join(",")}).join("\n"),s=encodeURI(c);return n.a.createElement("div",{className:"App",style:{display:"flex"}},n.a.createElement("div",{className:"left",onMouseDown:this.mouseDownHandler,onMouseUp:this.mouseUpHandler},n.a.createElement(m,{fill:i,mouseDown:o,colorGrid:t,fillGrid:this.fillGridFinal,updateColor:this.updateColor,charGrid:a,color:r,char:l})),n.a.createElement("div",{className:"right"},n.a.createElement(g,{update:this.update}),n.a.createElement("input",{type:"checkbox",name:"fill",onClick:this.toggleFill}),n.a.createElement("label",null,"Toggle Fill"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("a",{href:s,download:"grid.csv"},"Download Map (csv)")))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.88326f94.chunk.js.map